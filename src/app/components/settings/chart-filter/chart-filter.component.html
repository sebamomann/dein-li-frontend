<div class="chart-filter-wrapper">
  <div>
    <span>Automatisches Update</span>
    <mat-checkbox (click)="toggleAutoUpdate()">{{timeInterval ? "Eingeschaltet" : "Ausgeschaltet"}}
      <mat-progress-spinner *ngIf="timeInterval" mode="determinate" [value]="barPercentage" diameter="20"
                            strokeWidth="10"></mat-progress-spinner>
    </mat-checkbox>
  </div>

  <div>
    <span>Updateintervall</span>
    <mat-select class="update-interval-select"
                [(value)]="updateInterval"
                (valueChange)="changedUpdateInterval()">
      <mat-option [value]="15">15 Sekunden</mat-option>
      <mat-option [value]="30">30 Sekunden</mat-option>
      <mat-option [value]="60">1 Minute</mat-option>
      <mat-option [value]="300">5 Minuten</mat-option>
      <mat-option [value]="9000">15 Minuten</mat-option>
    </mat-select>
  </div>

  <div>
    <span>Datenzeitraum</span>
    <mat-select class="default-update-interval-select"
                [(value)]="defaultUpdateInterval"
                (valueChange)="changedFilter()">
      <mat-option [value]="'custom'">Benutzerdefiniert</mat-option>
      <mat-option [value]="'last_15_minutes'">Letzte 15 Minuten</mat-option>
      <mat-option [value]="'last_hour'">Letzte Stunde</mat-option>
      <mat-option [value]="'last_12_hours'">Letzte 12 Stunden</mat-option>
      <mat-option [value]="'last_day'">Letzte 24 Stunden</mat-option>
    </mat-select>
  </div>

  <ng-container *ngIf="defaultUpdateInterval == 'custom'">
    <mat-select class="interval-select"
                [(value)]="interval"
                (valueChange)="changedFilter()">
      <mat-option *ngFor="let option of options" [value]="option.value">{{option.text}}</mat-option>
    </mat-select>

    <mat-form-field class="">
      <label for="dateStart">
        <input id="dateStart"
               [(ngModel)]="start"
               (change)="changedFilter()"
               placeholder="Datum"
               type="datetime-local"
               matInput
               required>
      </label>
    </mat-form-field>
    <mat-form-field class="">
      <label for="dateEnd">
        <input id="dateEnd"
               [(ngModel)]="end"
               (change)="changedFilter()"
               placeholder="Datum"
               type="datetime-local"
               matInput
               required>
      </label>
    </mat-form-field>
  </ng-container>
</div>
